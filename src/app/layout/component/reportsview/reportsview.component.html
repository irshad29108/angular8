
<div class="row bg-title">
  <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
    <h4 class="page-title">Report View</h4>
  </div>
  <div class="col-lg-10 col-sm-12 col-md-10 col-xs-12">
    <ol class="breadcrumb m-r-0">
      <li *ngIf="showpub">
        <div class="select_wrapper sm-select">
          <!-- <select class="form-control input-sm" placeholder=""  [(ngModel)]="publisherdropdown" name="publisherdropdown">
            <option >Select Publisher</option>
            <option *ngFor="let pub of publisher" value="{{pub.uid}}">{{pub.username}}</option>
  
          </select> -->
          <ng-select2 class="input-sm" placeholder="Select Publisher" [(ngModel)]="publisherdropdown"
            name="publisherdropdown" (ngModelChange)="changepublisher()" [data]="publisher"></ng-select2>
        </div>
        <a (click)="resetpublisher()"
          class="btn btn-sm btn-info btn-outline waves-effect waves-light" title="Reset Publisher"><i
            class="fa fa-repeat"></i></a>
      </li>
    <!--   <li *ngIf="showpub"> <a (click)="resetpublisher()"
          class="btn btn-sm btn-info btn-outline waves-effect waves-light" title="Reset Publisher"><i
            class="fa fa-repeat"></i></a>
      </li> -->
      <li>
        <!-- <ng-select2 [data]="exampleData"
              >
  </ng-select2> -->
        <div *ngIf="alluser.role!='buyer'" class="select_wrapper sm-select">
          <ng-select2 class="input-sm" placeholder="Select Campaign" [(ngModel)]="campaigndropdown"
            (ngModelChange)="changecampaign()" name="campaigndropdown" [data]="exampleData"
            style="width: 200px!important;"></ng-select2>
          <!-- <select  >
            <option  >Select Campaign</option>
            <option *ngFor="let camp of campaign" value="{{camp.camp_name}}">{{camp.camp_name}}</option>
          </select> -->
        </div>
         <a (click)="resetcampaign()" class="btn btn-sm btn-info btn-outline waves-effect waves-light"
          title="Reset Campaign"><i class="fa fa-repeat"></i></a>
      </li>
     <!--  <li> <a (click)="resetcampaign()" class="btn btn-sm btn-info btn-outline waves-effect waves-light"
          title="Reset Campaign"><i class="fa fa-repeat"></i></a>
      </li> -->
      <!-- <li> <a (click)="reset()" class="btn btn-sm btn-info btn-outline waves-effect waves-light" title="Reset"><i
              class="fa fa-repeat"></i></a>
        </li> -->
      <li> <input type="text" ngxDaterangepickerMd [(ngModel)]="selected" [showCustomRangeLabel]="true"
          [ranges]="ranges" [opens]="'left'" [showCancel]="true" [linkedCalendars]="true"
          [alwaysShowCalendars]="alwaysShowCalendars"
          [locale]="{clearLabel: 'Clear',applyLabel: 'Apply', format: 'DD/MM/YYYY', firstDay: 1}"
          class="form-control input-sm daterange" placeholder="Select please..." />
        <a (click)="submit()" class="btn btn-sm btn-info waves-effect waves-light">Submit</a>
      </li>
      <li><a (click)="resetcollender()" class="btn btn-sm btn-info btn-outline waves-effect waves-light"
          title="Reset Campaign"><i class="fa fa-repeat"></i></a>
      </li>


      <li><a href="javascript:void()" (click)="clickFilter()"
          class="btn  btn-sm btn-info btn-outline waves-effect waves-light m-l-0" title="Filter"><i
            class="fa fa-filter"></i> <span class="ftext">Filter</span></a></li>
    </ol>
  </div>
  <!-- /.col-lg-12 -->
</div>

<div class="row">
  <div class="col-sm-12">
    <div class="white-box m-block p-0">
      <div class="d-flex-row">


        <div class="col-sm-6 d-flex border-md-right p-3 agent_record">
          <i class="fa mr-3 icon-lg text-success"><img src="assets/img/523089.svg"></i>
          <div class="d-flex flex-column justify-content-around">
            <small class="mb-1 text-muted">TOTAL CALLS</small>
            <div class="customloader" *ngIf="totalCallsLoader">
              <div class="item-1"></div>
              <div class="item-2"></div>
              <div class="item-3"></div>
              <div class="item-4"></div>
              <div class="item-5"></div>
            </div>
            <h5 class="mt-3 m-0" *ngIf="!totalCallsLoader">{{this.totalcalls}}</h5>
          </div>
        </div>
        <div class="col-sm-6 d-flex border-md-right p-3 agent_record">
          <i class="fa mr-3 icon-lg text-success"><img src="assets/img/unique_call.svg"></i>
          <div class="d-flex flex-column justify-content-around">
            <small class="mb-1 text-muted">TOTAL UNIQUE CALLS</small>
            <div class="customloader" *ngIf="totalUniqCallsLoader">
              <div class="item-1"></div>
              <div class="item-2"></div>
              <div class="item-3"></div>
              <div class="item-4"></div>
              <div class="item-5"></div>
            </div>

            <h5 class="mt-3 m-0" *ngIf="!totalUniqCallsLoader">{{totalUniqueCalls}}</h5>
          </div>
        </div>
        <div class="col-sm-6 d-flex border-md-right p-3 agent_record">
          <i class="fa mr-3 icon-lg text-success"><img src="assets/img/148937.svg"></i>
          <div class="d-flex flex-column justify-content-around">
            <small class="mb-1 text-muted">AVERAGE HANDLING TIME</small>
            <div class="customloader" *ngIf="totalAvgCallsLoader">
              <div class="item-1"></div>
              <div class="item-2"></div>
              <div class="item-3"></div>
              <div class="item-4"></div>
              <div class="item-5"></div>
            </div>
            <h5 class="mt-3 m-0" *ngIf="!totalAvgCallsLoader">{{totalHandlingTime}} Minutes</h5>

          </div>
        </div>
        <div class="col-sm-6 d-flex border-md-right p-3 agent_record">
          <i class="fa mr-3 icon-lg text-success"><img src="assets/img/unique_call_ans.svg"></i>
          <div class="d-flex flex-column justify-content-around">
            <small class="mb-1 text-muted">TOTAL UNIQUE ANSWERED CALLS</small>
            <div class="customloader" *ngIf="totalUniqAnsweredCallsLoader">
              <div class="item-1"></div>
              <div class="item-2"></div>
              <div class="item-3"></div>
              <div class="item-4"></div>
              <div class="item-5"></div>
            </div>
            <h5 class="mt-3 m-0" *ngIf="!totalUniqAnsweredCallsLoader">{{totalUniqueAnsCalls}}</h5>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="row">
  <div class="col-md-12">
    <div class="white-box">
      <div class="row">
        <div class="col-md-4">
          <h3 class="box-title">Reporting </h3>
          <!-- <div class="fa-loader" *ngIf="loader">
                  <i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i>
              </div> -->
        </div>

        <div class="col-md-4">
          <div class="customloader" *ngIf="loader">
            Loading
            <div class="item-1"></div>
            <div class="item-2"></div>
            <div class="item-3"></div>
            <div class="item-4"></div>
            <div class="item-5"></div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="btn_tabs pull-right">
            <button class="btn_tb" (click)="getaHourly()" [style.background-color]="this.color">Hourly</button>
            <button class="btn_tb" (click)="getaWeekly()">Weekly</button>
            <button class="btn_tb" (click)="getaMonthly()">Monthly</button>
          </div>
        </div>

      </div>

      <ul class="list-inline text-right">
        <li>
          <h5><i class="fa fa-circle m-r-5" style="color: #00bfc7;"></i>Total Calls</h5>
        </li>
        <li>
        <li>
          <h5><i class="fa fa-circle m-r-5" style="color: #0024c7;"></i>Total Unique Calls</h5>
        </li>
        <li>
          <h5><i class="fa fa-circle m-r-5" style="color: #fdc006;"></i>Total Unique Answered Calls</h5>
        </li>
        <li>
          <h5><i class="fa fa-circle m-r-5" style="color: #9675ce;"></i>AHT</h5>
        </li>
      </ul>
      <div class="loader-rel">
        <div class="customloader" *ngIf="loader">
          Loading
          <div class="item-1"></div>
          <div class="item-2"></div>
          <div class="item-3"></div>
          <div class="item-4"></div>
          <div class="item-5"></div>
        </div>

        <div style="display: block;">
          <canvas baseChart width="400" [datasets]="lineChartData" [labels]="lineChartLabels"
            [colors]="lineChartColors" [legend]="lineChartLegend" [chartType]="lineChartType"
            [plugins]="lineChartPlugins" (chartHover)="chartHovered($event)"
            (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="white-box form-horizontal commonForm">
      <div class="row no-guttersmob">
        <div class="col-md-3 col-xs-12">
          <h3 class="box-title">Tfn Reporting</h3>
        </div>
        <div class="col-md-3 col-xs-4">
          <select class="form-control">
            <option value="" selected>Select Hour</option>
            <option value="00:00">12.00 AM</option>
            <option value="00:30">12.30 AM</option>
            <option value="01:00">01.00 AM</option>
            <option value="01:30">01.30 AM</option>
            <option value="02:00">02.00 AM</option>
            <option value="02:30">02.30 AM</option>
            <option value="03:00">03.00 AM</option>
            <option value="03:30">03.30 AM</option>
            <option value="04:00">04.00 AM</option>
            <option value="04:30">04.30 AM</option>
            <option value="05:00">05.00 AM</option>
            <option value="05:30">05.30 AM</option>
            <option value="06:00">06.00 AM</option>
            <option value="06:30">06.30 AM</option>
            <option value="07:00">07.00 AM</option>
            <option value="07:30">07.30 AM</option>
            <option value="08:00">08.00 AM</option>
            <option value="08:30">08.30 AM</option>
            <option value="09:00">09.00 AM</option>
            <option value="09:30">09.30 AM</option>
            <option value="10:00">10.00 AM</option>
            <option value="10:30">10.30 AM</option>
            <option value="11:00">11.00 AM</option>
            <option value="11:30">11.30 AM</option>
            <option value="12:00">12.00 PM</option>
            <option value="12:30">12.30 PM</option>
            <option value="13:00">01.00 PM</option>
            <option value="13:30">01.30 PM</option>
            <option value="14:00">02.00 PM</option>
            <option value="14:30">02.30 PM</option>
            <option value="15:00">03.00 PM</option>
            <option value="15:30">03.30 PM</option>
            <option value="16:00">04.00 PM</option>
            <option value="16:30">04.30 PM</option>
            <option value="17:00">05.00 PM</option>
            <option value="17:30">05.30 PM</option>
            <option value="18:00">06.00 PM</option>
            <option value="18:30">06.30 PM</option>
            <option value="19:00">07.00 PM</option>
            <option value="19:30">07.30 PM</option>
            <option value="20:00">08.00 PM</option>
            <option value="20:30">08.30 PM</option>
            <option value="21:00">09.00 PM</option>
            <option value="21:30">09.30 PM</option>
            <option value="22:00">10.00 PM</option>
            <option value="22:30">10.30 PM</option>
            <option value="23:00">11.00 PM</option>
            <option value="23:30">11.30 PM</option>
          </select>
        </div>
        <div class="col-md-3 col-xs-4">
          <select class="form-control">
            <option selected>select week</option>
            <option value="Monday">Monday</option>
            <option value="Tuesday">Tuesday</option>
            <option value="Wednesday">Wednesday</option>
            <option value="Thursday">Thursday</option>
            <option value="Friday">Friday</option>
            <option value="Saturday">Saturday</option>
            <option value="Sunday">Sunday</option>
          </select>
        </div>
        <div class="col-md-3 col-xs-4">
          <select class="form-control">
            <option selected>select month</option>
            <option value='1'>Janaury</option>
            <option value='2'>February</option>
            <option value='3'>March</option>
            <option value='4'>April</option>
            <option value='5'>May</option>
            <option value='6'>June</option>
            <option value='7'>July</option>
            <option value='8'>August</option>
            <option value='9'>September</option>
            <option value='10'>October</option>
            <option value='11'>November</option>
            <option value='12'>December</option>
          </select>
        </div>
      </div>
    </div>
  </div>


  <!-- settings -->

  <div class="overlayfix" *ngIf="setting">
    <div class="settingform">
      <button type="button" class="closeBtn" (click)="clicksetting()">x</button>
      <button type="button" class="saveBtn btn-info">Save Changes</button>
      <div class="container">
        <div class="row">
          <div class="col-sm-4">
            <ul class="settinglist">
              <li><bdo>Enable recording</bdo> <span class="pull-right"><input type="checkbox" id="recording"
                    class="switchinput" /><label for="recording" class="switchbtn">Toggle</label></span></li>
              <li><bdo>Display CNUM</bdo> <span class="pull-right"><input type="checkbox" id="cnum"
                    class="switchinput" /><label for="cnum" class="switchbtn">Toggle</label></span></li>
              <li><bdo>Display Wallet</bdo> <span class="pull-right"><input type="checkbox" id="wallet"
                    class="switchinput" /><label for="wallet" class="switchbtn">Toggle</label></span></li>
            </ul>
          </div>
          <div class="col-sm-4">
            <ul class="settinglist">
              <li><bdo>Phone System</bdo> <span class="pull-right"><input type="checkbox" id="system"
                    class="switchinput" /><label for="system" class="switchbtn">Toggle</label></span></li>
              <li><bdo>Enable Inside Routing</bdo> <span class="pull-right"><input type="checkbox" id="inside"
                    class="switchinput" /><label for="inside" class="switchbtn">Toggle</label></span></li>
              <li><bdo>Enable Outside Routing</bdo> <span class="pull-right"><input type="checkbox" id="outside"
                    class="switchinput" /><label for="outside" class="switchbtn">Toggle</label></span></li>
            </ul>
          </div>
          <div class="col-sm-4">
            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <h5 class="m-b-5 m-t-0">Daily TFN(s)</h5>
                  <input type="text" class="form-control" name="">
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <h5 class="m-b-5 m-t-0">Monthly TFN(s)</h5>
                  <input type="text" class="form-control" name="">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <h5 class="m-b-5 m-t-0">Call Reducer</h5>
                  <input type="text" class="form-control" name="">
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <h5 class="m-b-5 m-t-0">Buyer Limit</h5>
                  <input type="text" class="form-control" name="">
                </div>
              </div>
            </div>


          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- settings -->











  <!-- .right-sidebar -->
  <div class="right-sidebar" [ngClass]="status? 'shw-rside' : ''">
    <div id="filteroverlay" (click)="clickFilter()"  [ngClass]="status? 'show' : ''"></div>
    <div class="slimscrollright">
      <div class="rpanel-title"> Filter Panel <span  (click)="clickFilter()"><i class="ti-close right-side-toggle"
           ></i></span> </div>
      <div class="r-panel-body">
        <form class="form-horizontal" action="">
          <div class="row">
            <div class="col-md-12">
              <h5 class="m-t-20 m-b-10">Select box</h5>
              <select class="selectpicker form-control" data-style="form-control" (change)="selectChangeFilter($event)">
                <option value="0">Select filter type</option>
                <!-- <option value="Date">Date</option> -->
                <option value="DID">DID</option>
                <!-- <option value="Destination">Destination</option> -->

                <option value="Disposition">Disposition</option>
                <option value="CID">CID</option>
                <option value="Hangby">Hang By</option>
                <option value="Status">Status</option>
              </select>
            </div>
            <!-- <div class="col-md-12" *ngIf="filtr1">
                                          <h5 class="m-t-20 m-b-10">Select Date</h5><button class="btn btn-danger btn-xs btnfilterClose" (click)="closefiltr('filtr1')">x</button>
                                          <input type="text"
                                          ngxDaterangepickerMd
                                          [(ngModel)]="selected"
                                          [showCustomRangeLabel]="true"
                                          [ranges]="ranges"
                                          [opens]="'left'"
                                          [showCancel]="true"
                                          [linkedCalendars]="true"
                                          [alwaysShowCalendars]="alwaysShowCalendars"
                                          [locale]="{applyLabel: 'Apply', format: 'DD/MM/YYYY', firstDay: 1}"
                                          class="form-control input-sm daterange"
                                          placeholder="Choose date range"/>
                                        </div> -->
            <div class="col-md-12" *ngIf="filtr1">
              <h5 class="m-t-20 m-b-10">Select DID</h5> <button class="btn btn-danger btn-xs btnfilterClose"
                (click)="closefiltr('filtr1')">x</button>
              <input type="text" class="form-control" [(ngModel)]="did" name="did" placeholder="Enter DID">
            </div>
            <div class="col-md-12" *ngIf="filtr2">
              <h5 class="m-t-20 m-b-10">Select Disposition</h5><button class="btn btn-danger btn-xs btnfilterClose"
                (click)="closefiltr('filtr2')">x</button>
              <input type="text" class="form-control" [(ngModel)]="destination" name="destination"
                placeholder="Enter Disposition">
            </div>
            <div class="col-md-12" *ngIf="filtr3">
              <h5 class="m-t-20 m-b-10">Select CID</h5><button class="btn btn-danger btn-xs btnfilterClose"
                (click)="closefiltr('filtr3')">x</button>
              <input type="text" class="form-control" [(ngModel)]="cid" name="cid" placeholder="Enter CID">
            </div>
            <!-- <div class="col-md-12" *ngIf="filtr5">
                                        <h5 class="m-t-20 m-b-10">Select Dispsition</h5><button class="btn btn-danger btn-xs btnfilterClose" (click)="closefiltr('filtr5')">x</button>
                                        <input type="text" class="form-control" name="" placeholder="Enter dispositon">
                                      </div> -->

            <div class="col-md-12" *ngIf="filtr4">
              <h5 class="m-t-20 m-b-10">Select Hang By</h5><button class="btn btn-danger btn-xs btnfilterClose"
                (click)="closefiltr('filtr4')">x</button>
              <select class="form-control" [(ngModel)]="hangby" name="hangby">
                <option>Agent</option>
                <option>Caller</option>
              </select>
            </div>
            <div class="col-md-12" *ngIf="filtr5">
              <h5 class="m-t-20 m-b-10">Select Status</h5><button class="btn btn-danger btn-xs btnfilterClose"
                (click)="closefiltr('filtr5')">x</button>
              <select class="form-control" [(ngModel)]="statusSearch" name="statusSearch">
                <option>Active</option>
                <option>Deactive</option>
              </select>
            </div>

          </div>
          <div class="row">
            <div class="col-md-12">
              <h5 class="m-t-30"></h5>
              <!-- <button id="deselect-all" class="btn btn-info btn-outline" href="#">Apply Filter</button>
                            <a id="refresh" class="btn btn-warning btn-outline m-l-5" href="#">Reset</a> -->
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>


  <div class="mediaplayer" *ngIf="palyer">
    <button class="playerclose" (click)="playercross()">x</button>
    <plyr mat-card-image id="player" plyrTitle="Audio" plyrType="audio" [plyrSources]="audioSources"
      (plyrInit)="player = $event" (plyrPlay)="played($event)" [plyrOptions]="options"></plyr>
  </div>
  <!-- ============================================================== -->
  <!-- End Right sidebar -->
  <!-- ============================================================== -->